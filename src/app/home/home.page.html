<ion-header [translucent]="false">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>춰Feliz Cumplea침os mi cielito! 仇벒잺游뗻</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="false" class="ion-padding">
  <!-- Mensaje especial provisional -->
  <ion-card class="special-message" color="secondary">
    <ion-card-header>
      <ion-card-title>Para ti, mi amor</ion-card-title>
      <ion-card-subtitle>Nuestro peque침o rinc칩n</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <p>
        Feliz cumplea침os amorcito mia preciosa, gracias por todos esos momentos a tu lado, por esa paciencia que tienes aunque no lo creas, gracias infinitamente por todo,
        yo se que tu cumplea침os no es una fecha que te llame mucho la atencion, pero tratare de que si lo sea mi #01, te amo muchooooooooooooooooo.
      </p>
    </ion-card-content>
  </ion-card>

  <div class="header">
    <h1>Nuestros Mejores Momentos</h1>
    <p>Una colecci칩n de nuestros recuerdos m치s preciados juntos</p>
  </div>

  <div class="gallery-container">
    <div class="gallery-grid">
      <div class="gallery-item" *ngFor="let photo of photos; let i = index" (click)="viewPhoto(i)">
        <div class="image-container">
          <img [src]="photo.src" [alt]="photo.alt">
          <div class="overlay">
            <ion-icon name="expand"></ion-icon>
          </div>
        </div>
        <div class="photo-caption">{{ photo.caption }}</div>
      </div>
    </div>
  </div>

  <!-- Heart Button -->
  <div class="heart-container">
    <button (click)="animateFlowers()" class="heart-button" aria-label="Enviar amor">
      <ion-icon name="heart" class="heart-icon"></ion-icon>
    </button>
  </div>

  <!-- Flower Animation Container -->
  <div class="flower-animation" *ngIf="showFlowers">
    <div class="flower" *ngFor="let flower of flowers">
      <div class="petals">
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
      </div>
      <div class="center"></div>
    </div>
  </div>

  <!-- Modal para ver la foto en grande -->
  <ion-modal [isOpen]="isModalOpen" (didDismiss)="closeModal()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>{{ currentPhoto?.caption }}</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <div class="modal-content">
          <img [src]="currentPhoto?.src" [alt]="currentPhoto?.alt" class="full-image">
          <p class="photo-description">{{ currentPhoto?.description }}</p>
          <div class="navigation-buttons">
            <ion-button fill="clear" (click)="prevPhoto()" [disabled]="currentIndex === 0">
              <ion-icon slot="icon-only" name="chevron-back"></ion-icon>
            </ion-button>
            <ion-button fill="clear" (click)="nextPhoto()" [disabled]="currentIndex === photos.length - 1">
              <ion-icon slot="icon-only" name="chevron-forward"></ion-icon>
            </ion-button>
          </div>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
